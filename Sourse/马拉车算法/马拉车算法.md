![é©¬æ‹‰è½¦ç®—æ³•](http://ww4.sinaimg.cn/large/72f96cbagw1f7lk64coa0j20rs08wgo8.jpg)

> æœ¬ç®—æ³•åŸåä¸º [Manacher ç®—æ³•](https://zhuhongcheng.wordpress.com/2009/08/02/a-simple-linear-time-algorithm-for-finding-longest-palindrome-sub-string/)ï¼Œæ˜¯ä¸ºäº†è§£å†³ â€œæ‰¾å‡ºå­—ç¬¦ä¸²çš„æœ€é•¿å›æ–‡å­ä¸²â€ è¿™ä¸ªé—®é¢˜è€Œæå‡ºï¼Œè¯¥é—®é¢˜æ”¶å½•åœ¨ LeetCode ã€[Longest Palindromic Substring](https://leetcode.com/problems/longest-palindromic-substring/)ã€‘ ä¸­ã€‚

## æå‡ºé—®é¢˜

åŸæ–‡ï¼šGiven a string S, find the longest palindromic substring in S. You may assume that the maximum length of S is 1000, and there exists one unique longest palindromic substring.

è¯‘æ–‡ï¼šç»™å‡ºä¸€ä¸ªå­—ç¬¦ä¸² Sï¼Œæ‰¾åˆ°åœ¨ S ä¸­çš„æœ€é•¿çš„å›æ–‡å­ä¸²ã€‚ä½ å¯èƒ½éœ€è¦å‡è®¾ S çš„æœ€å¤§é•¿åº¦ä¸º 1000ï¼Œè€Œä¸”åªå­˜åœ¨ä¸€ä¸ªç‹¬ç‰¹çš„å›æ–‡å­ä¸²ã€‚

## é—®é¢˜åˆ†æ

ä»€ä¹ˆæ˜¯å›æ–‡å­—ç¬¦ä¸²ï¼Ÿ
   
> å¦‚æœä¸€ä¸ªå­—ç¬¦ä¸²æ­£ç€è¯»å’Œåç€è¯»æ˜¯ä¸€æ ·çš„ï¼Œå°±ç§°å®ƒä¸ºå›æ–‡å­—ç¬¦ä¸²ã€‚ä¾‹å¦‚ `121`ï¼Œ`abccba` ç­‰ã€‚

å›æ–‡å­—ç¬¦ä¸²æœ‰ä»€ä¹ˆç”¨ï¼Ÿ

> å¯ä»¥ç”¨æ¥å†™è¯—ï¼Œä¾‹å¦‚**è‹è½¼**çš„ **ã€Šè©è¨è›®ã€‹**ğŸ‘‡

> è½èŠ±é—²é™¢æ˜¥è¡«è–„ï¼Œè–„è¡«æ˜¥é™¢é—²èŠ±è½ã€‚è¿Ÿæ—¥æ¨ä¾ä¾ï¼Œä¾ä¾æ¨æ—¥è¿Ÿã€‚æ¢¦å›èºèˆŒå¼„ï¼Œå¼„èˆŒèºå›æ¢¦ã€‚é‚®ä¾¿é—®äººç¾ï¼Œç¾äººé—®ä¾¿é‚®ã€‚

## ç®—æ³•å¯¹æ¯”

åœ¨äº†è§£é©¬æ‹‰è½¦ç®—æ³•ä¹‹å‰ï¼Œæˆ‘ä»¬æœ‰å¿…è¦äº†è§£ä¸€ä¸‹å„ç§ç®—æ³•çš„ä¼˜åŠ£æ€§ï¼Œæœ‰åŠ©äºæˆ‘ä»¬å¯¹é©¬æ‹‰è½¦ç®—æ³•æœ‰æ›´å±‚æ¬¡çš„äº†è§£ã€‚ä¸‹é¢æ˜¯å…³äºå›æ–‡ä¸²çš„å››ç§ç®—æ³•å¯¹æ¯”ï¼š

| ç®—æ³•ç§ç±»        | æ—¶é—´å¤æ‚åº¦         |     ç©ºé—´å¤æ‚åº¦     |                          ç®€è¿°                        |
| ------------- |:--------------:  | :----------------:| :--------------------------------------------------: |
| æš´åŠ›æšä¸¾æ³•      | O(N<sup>3</sup>) | O(N<sup>3</sup>) | éå†æ‰€æœ‰å­å­—ç¬¦ä¸²ï¼Œå­ä¸²æ•°ä¸º N<sup>2</sup>ï¼Œé•¿åº¦å¹³å‡ä¸º N/2    |
| åŠ¨æ€è§„åˆ’æ³•      | O(N<sup>2</sup>) | O(N<sup>2</sup>) | ä¸¤å±‚å¾ªç¯ï¼Œå¤–å±‚å¾ªç¯ä»åå¾€å‰æ‰«ï¼Œå†…å±‚å¾ªç¯ä»å½“å‰å­—ç¬¦æ‰«åˆ°ç»“å°¾å¤„ï¼Œçœç•¥å·²ç»åˆ¤æ–­è¿‡çš„è®°å½• |
| ä¸­å¿ƒæ£€æµ‹æ³•      | O(N<sup>2</sup>) | O(1)             | åˆ†å¥‡å¶ä¸¤ç§æƒ…å†µï¼Œä»¥ i ä¸ºä¸­å¿ƒä¸æ–­å‘ä¸¤è¾¹æ‰©å±•åˆ¤æ–­ï¼Œæ— éœ€é¢å¤–ç©ºé—´    |
| é©¬æ‹‰è½¦ç®—æ³•      | O(N)             | O(N)             | ä»å·¦åˆ°å³æ‰«æï¼Œçœç•¥å·²ç»åˆ¤æ–­è¿‡çš„è®°å½•ï¼Œçº¿æ€§    |

![](https://camo.githubusercontent.com/31e77c5678642acbfbfab35632e9aae08596f7e1/687474703a2f2f7777332e73696e61696d672e636e2f6c617267652f37383533303834636777316637356362656b3377646a323078633032647438702e6a7067)

## é©¬æ‹‰è½¦ç®—æ³•

æˆ‘ä»¬ä»ä¸Šé¢çš„è¡¨æ ¼ï¼Œå¯ä»¥çœ‹åˆ°**ä¸­å¿ƒæ£€æµ‹æ³•**å…¶å®å·²ç»æ˜¯éå¸¸å®Œå–„çš„äº†ï¼Œä½†é©¬æ‹‰è½¦ä¾ç„¶æ˜¯æŠ€èƒœä¸€ç­¹ï¼Œä¸‹é¢æˆ‘ä»¬æ¥çœ‹ä¸€ä¸‹å‡ ä¸ªé¢„å¤„ç†ã€‚

### é¢„å¤„ç†1ï¼šè§£å†³å­—ç¬¦ä¸²é•¿åº¦å¥‡å¶é—®é¢˜

é©¬æ‹‰è½¦ç®—æ³•å¯ä»¥çœ‹æˆæ˜¯**ä¸­å¿ƒæ£€æµ‹æ³•**çš„å‡çº§ç‰ˆæœ¬ï¼Œåœ¨ä¸Šé¢çš„è¡¨æ ¼ä¸­æåˆ°**ä¸­å¿ƒæ£€æµ‹æ³•**æ˜¯éœ€è¦åŒºåˆ†å¥‡å¶ä¸¤ç§æƒ…å†µçš„ï¼Œé‚£ä¹ˆåœ¨é©¬æ‹‰è½¦ç®—æ³•ä¸­é¦–å…ˆè¦è§£å†³çš„å°±æ˜¯è¿™ä¸ªé—®é¢˜ã€‚

è¿™é‡Œé¦–å…ˆå¯¹å­—ç¬¦ä¸²åšä¸€ä¸ªé¢„å¤„ç†ï¼Œåœ¨æ‰€æœ‰çš„ç©ºéš™ä½ç½®ï¼ˆåŒ…æ‹¬é¦–å°¾ï¼‰æ’å…¥åŒæ ·çš„ç¬¦å·ã€‚æ— è®ºåŸå­—ç¬¦ä¸²æ˜¯**å¥‡æ•°**è¿˜æ˜¯**å¶æ•°**ï¼Œé€šè¿‡è¿™ç§åšæ³•ï¼Œéƒ½ä¼šä½¿å¾—å¤„ç†è¿‡çš„å­—ç¬¦ä¸²å˜æˆå¥‡æ•°é•¿åº¦ã€‚

ä»¥æ’å…¥#å·ä¸ºä¾‹ï¼š

```
123ï¼ˆé•¿åº¦ä¸º3ï¼‰ -> #1#2#3# ï¼ˆé•¿åº¦ä¸º7ï¼‰

abccba ï¼ˆé•¿åº¦ä¸º6ï¼‰-> #a#b#c#c#b#a#ï¼ˆé•¿åº¦ä¸º13ï¼‰
```
æˆ‘ä»¬æŠŠä¸€ä¸ªå›æ–‡ä¸²ä¸­æœ€å·¦æˆ–æœ€å³ä½ç½®çš„å­—ç¬¦ä¸å…¶å¯¹ç§°è½´çš„è·ç¦»ç§°ä¸ºå›æ–‡åŠå¾„ã€‚

é©¬æ‹‰è½¦ç®—æ³•å®šä¹‰äº†ä¸€ä¸ªå›æ–‡åŠå¾„æ•°ç»„ Lenï¼Œç”¨ Len[i] è¡¨ç¤ºä»¥ç¬¬ i ä¸ªå­—ç¬¦ä¸ºå¯¹ç§°è½´çš„å›æ–‡ä¸²çš„å›æ–‡åŠå¾„ã€‚

æˆ‘ä»¬æ¥çœ‹çœ‹æ’å…¥äº†`#`å­—ç¬¦åçš„ Len æ•°ç»„å†…æ•°æ®æ˜¯æ€ä¹ˆè®¡ç®—çš„å§ï¼š

![](http://ww3.sinaimg.cn/large/72f96cbagw1f7mboe8p4ej20i6088gmq.jpg)

åˆ†å‰²çº¿æ‰€å¯¹åº”çš„ index ä¸º i çš„å­—èŠ‚çš„å®é™…å›æ–‡é•¿åº¦æ˜æ˜¾ä¸º 2Len[i] - 1 ğŸ‘ å¥½çš„ï¼Œè¿™æ ·æˆ‘ä»¬å°±å®Œæˆäº†ç¬¬ä¸€æ­¥é¢„å¤„ç†ï¼Œä¸‹é¢æˆ‘ä»¬è¿›è¡Œç¬¬äºŒæ­¥çš„é¢„å¤„ç† ğŸ‘‡ ã€‚

### é¢„å¤„ç†2ï¼šè§£å†³éå†è¿‡ç¨‹å¯èƒ½å‡ºç°çš„æ•°ç»„è¶Šç•Œ

æ¶‰åŠåˆ°éå†ï¼Œæ•°ç»„è¶Šç•Œé—®é¢˜ï¼Œä¸€ç›´éƒ½å¾ˆè®©äººå¤´ç–¼ ğŸ‘ºï¼Œåœ¨è¿™ä¸ªç®—æ³•ä¸­æˆ‘ä»¬åŒæ ·ä¼šé‡åˆ°è¿™æ ·çš„é—®é¢˜ï¼š

![](http://ww3.sinaimg.cn/large/801b780agw1f7mhpb4gdsj208y05kt8v.jpg)

ä¸ºäº†è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œæˆ‘ä»¬æˆ–è®¸å¯ä»¥åƒä¸‹é¢è¿™æ ·åšä¸€å¤§å †çš„åˆ¤æ–­ï¼š

```
if ... {
    if ... {
        
    } else {
        
    }
} else {
    if ... {
            
    } else {
                
    }
}
```

åˆæˆ–è®¸æˆ‘ä»¬å¯ä»¥åœ¨å­—ç¬¦ä¸²çš„é¦–å°¾å¤„å„åŠ å…¥ä¸€ä¸ªå­—ç¬¦ï¼Œä¾‹å¦‚ `~` å’Œ `+`ï¼Œåªè¦ä¸¤ä¸ªå­—ç¬¦ä¸ç›¸åŒï¼Œå°±æ²¡æœ‰å¯èƒ½æˆä¸ºæœ€é•¿å­—ç¬¦ä¸²çš„ä¸€éƒ¨åˆ†ï¼Œä¸ä¼šå¯¹æˆ‘ä»¬çš„ç»“æœé€ æˆå½±å“ï¼Œçœ‹ä¸‹é¢ ğŸ‘‡ ï¼š

```
123ï¼ˆé•¿åº¦ä¸º3ï¼‰ -> ~#1#2#3#+ ï¼ˆé•¿åº¦ä¸º9ï¼‰

abccba ï¼ˆé•¿åº¦ä¸º6ï¼‰-> ~#a#b#c#c#b#a#+ï¼ˆé•¿åº¦ä¸º15ï¼‰
```

å†åŠ ä¸Šä¸‹é¢çš„å›¾ç‰‡ï¼Œå¯èƒ½å¯ä»¥æ›´å®¹æ˜“æ˜ç™½ï¼š

![](http://ww4.sinaimg.cn/large/801b780agw1f7mhvgazapj20a205kweo.jpg)

ç”¨ä¸åŒ¹é…çš„ç»“æœæ¥ä»£æ›¿ç¨‹åºå´©æºƒï¼Œååˆ†åˆ’ç®—ã€‚

é¢„å¤„ç†çš„ä»£ç å¦‚ä¸‹ï¼š

```
// å­˜å‚¨å­—èŠ‚çš„æ•°ç»„
var charactersArr = Array<Character>()

charactersArr.append("~")
// sä¸ºè¾“å…¥çš„å­—ç¬¦ä¸²
for character in s.characters {
     charactersArr.append("#")
     charactersArr.append(character)
}
charactersArr.append("#")
charactersArr.append("+")
```

```
IntPut: "123"

OutPut: ["~", "#", "1", "#", "2", "#", "3", "#", "+"]
```

è¿™æ ·æˆ‘ä»¬å°±åšå®Œäº†æ‰€æœ‰çš„é¢„å¤„ç†ï¼Œä¸‹é¢æˆ‘ä»¬æ¥çœ‹ä¸€ä¸‹è¿™ä¸ªç®—æ³•æ˜¯æ€ä¹ˆä¼˜åŒ–è¿ç®—è¿‡ç¨‹çš„ ğŸ‘£

### æ€è·¯åˆ†æ

æˆ‘ä»¬ç°åœ¨çš„é—®é¢˜å·²ç»å˜æˆæ€ä¹ˆé«˜æ•ˆçš„æ±‚å‡º Len æ•°ç»„ä¸­æ‰€æœ‰çš„å€¼ï¼Œè€Œå½“æœ€åå–å¾—æ•°ç»„ä¸­æœ€å¤§çš„å€¼åï¼Œæœ€é•¿çš„å›æ–‡å­—ç¬¦ä¸²ä¹Ÿå°±å‘¼ä¹‹æ¬²å‡ºäº†ã€‚

#### å±æ€§è®¾ç½®ï¼š_middlePoint_ å’Œ _rightMax_

æˆ‘ä»¬é¦–å…ˆè®¾ç«‹ä¸¤ä¸ªå€¼ï¼Œ_rightMax_ å’Œ _middlePoint_ï¼Œ_middlePoint_ ä¸ºæœ‰æ•ˆçš„ä¸­å¿ƒç‚¹ï¼Œè€Œ _rightMax_ ä¸º _middlePoint_ å¯¹åº”çš„å›æ–‡å­—ç¬¦ä¸²çš„å³è¾¹ç•Œã€‚å®ƒä»¬çš„ä½ç½®å…³ç³»å¦‚ä¸‹å›¾æ‰€ç¤ºï¼š

![](http://ww4.sinaimg.cn/large/801b780agw1f7n6zqmv85j20ca07kjs3.jpg)

_middlePoint_ çš„ä½ç½®å¹¶ä¸æ˜¯ä¸å˜çš„ï¼Œåœ¨ä»å·¦åˆ°å³çš„éå†è¿‡ç¨‹ä¸­ï¼Œ_middlePoint_ çš„ä½ç½®ä¼šæ ¹æ® i ä¸ _rightMax_ å’Œ Len[i] çš„å…³ç³»è¿›è¡Œå˜åŒ–ã€‚

åœ¨ä»å·¦åˆ°å³éå†çš„è¿‡ç¨‹ä¸­ï¼Œæˆ‘ä»¬ä¼šéœ€è¦æ±‚å‡ºæ¯ä¸€ä¸ª i å¯¹åº”çš„å›æ–‡å­—ç¬¦ä¸²é•¿åº¦ï¼Œé‚£ä¹ˆé€šå¸¸ä¼šå‡ºç°æœ‰äº› i çš„å›æ–‡é•¿åº¦è¾ƒçŸ­ï¼Œè¢«åŒ…æ‹¬åœ¨ä¹‹å‰çš„è¾ƒé•¿çš„å›æ–‡å­—ç¬¦ä¸²ä¸­ï¼Œå¦‚æœè¿™ä¸ª i çš„å›æ–‡é•¿åº¦æˆ‘ä»¬å¯ä»¥é€šè¿‡ä¹‹å‰çš„æ•°ç»„ä¸­çš„æŸäº›å€¼æ¥æ±‚å‡ºï¼Œé‚£ä¹ˆå²‚ä¸æ˜¯å¾ˆä¾¿åˆ©ï¼Ÿ

è¿™å°±è¦æ±‚æˆ‘ä»¬æ¥æ‰¾å‡º Len æ•°ç»„ä¸­çš„å€¼çš„å„ç§å…³ç³»ã€‚

#### Len æ•°ç»„è®¡ç®—

##### ç¬¬ä¸€ç§æƒ…å†µï¼ši <= rightMax 

![](http://ww3.sinaimg.cn/large/801b780agw1f7nbxe4767j20hu07it9c.jpg)

åœ¨ä¸Šå›¾ä¸­ï¼Œi å’Œ j å¯¹åº”çš„ä¸¤ä¸ªå­å›æ–‡ä¸²è¢« _middlePoint_ å¯¹åº”çš„å›æ–‡ä¸²å®Œå…¨åŒ…æ‹¬ã€‚

è¿™é‡Œæˆ‘ä»¬å§‘ä¸”å°† _middlePoint_ å½“ä½œä¸€ä¸ªæˆ‘ä»¬å·²çŸ¥æœ€é•¿å›æ–‡ä¸²çš„ä¸€ä¸ªä¸­å¿ƒç‚¹ã€‚è€Œ j æ˜¯æˆ‘ä»¬å‰é¢å·²ç»æ±‚è¿‡çš„æŸä¸ªç‚¹ï¼Œå®ƒçš„ç‰¹ç‚¹æ˜¯ä¸æˆ‘ä»¬è¦å»æ±‚çš„ i æ ¹æ® _middlePoint_ å¯¹ç§°ã€‚æ‰€ä»¥è¿™é‡Œæœ‰å…³ç³»å¼ `2 * middlePoint - i` ã€‚

æˆ‘ä»¬ä¸‹é¢è¦å»è¯æ˜åœ¨ `i <= rightMax` çš„å‰æä¸‹ `Len[i] = Len[j]`ï¼ŒğŸ‘€çœ‹ğŸ‘‡ä¸‹é¢çš„å›¾ï¼š

![](http://ww2.sinaimg.cn/large/801b780agw1f7ne1s2gh9j20hu0dcgmx.jpg)

æˆ‘æƒ³è¿™ä¸ªå›¾å·²ç»è¯´çš„å¾ˆæ˜ç™½äº†å§ ğŸ™†â€â™‚ï¸ï¼Œ_middlePoint_ çš„å·¦å³æ¯ä¸ªå…ƒç´ å¯¹åº”ç›¸ç­‰ï¼Œå›æ–‡é•¿åº¦ä¸º `2Len[middlePoint] - 1`ï¼Œè€Œ j ç‚¹å·¦å³å…ƒç´ å¯¹åº”ç›¸ç­‰ï¼Œå›æ–‡é•¿åº¦ä¸º `2Len[j] - 1`ï¼Œè¿™æ„å‘³ç€ i ç‚¹å¤„å·¦å³å…ƒç´ ä¹Ÿä¼šå¯¹åº”ç›¸ç­‰ï¼Œä¸”å›æ–‡é•¿åº¦ä¸º `2Len[j] - 1`ã€‚

è¯å¾—ï¼š`Len[i] == Len[j]`ã€‚å¥½ï¼Œæˆ‘ä»¬ç»§ç»­ã€‚

åœ¨éå†è¿‡ç¨‹çš„æŸä¸ªå¯èƒ½ï¼Œj å¯¹åº”çš„å­—ç¬¦ä¸²çªç ´ _middlPoint_ è®¾ç«‹çš„å›´å¢™ï¼Œè§è¯†åˆ°äº†å¢™å¤–çš„ä¸–ç•Œï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºï¼š

![](http://ww1.sinaimg.cn/large/801b780agw1f7nf96br2tj20hu07iwf1.jpg)

æ­¤æ—¶æˆ‘ä»¬æ— æ³•å†å¾—åˆ° `Len[i] == Len[j]` è¿™ä¸ªç»“è®ºï¼Œæˆ‘ä»¬åœ¨ i å¤„åªèƒ½é€‰æ‹©å»é™¤å¢™å¤–çš„é‚£éƒ¨åˆ†ï¼Œå¹¶é‡æ–°è¿›è¡ŒåŒ¹é…ã€‚

![](http://ww3.sinaimg.cn/large/801b780agw1f7nfsfd2q7j20hu05m0t4.jpg)

é‡æ–°åŒ¹é…å®Œä¹‹åå¯èƒ½æ˜¯ä¸‹é¢çš„è¿™ç§æƒ…å†µï¼Œä½†æ— è®º i å¤„çš„å›æ–‡å­—ç¬¦ä¸²é•¿åº¦æœ‰æ²¡æœ‰æ¯” _middlePoint_ å¤„çš„é•¿åº¦å¤§ï¼Œæˆ‘ä»¬éƒ½éœ€è¦æ›´æ–° _middlePoint_ ä¸º iï¼Œæ›´æ–° _rightMax_ ä¸º i å¤„å›æ–‡ä¸²çš„å³è¾¹ç•Œã€‚

![](http://ww1.sinaimg.cn/large/801b780agw1f7nmdeqripj20lg06lwew.jpg)

å¥½çš„ï¼Œé‚£æˆ‘ä»¬æ€»ç»“ä¸€ä¸‹ `i<= rightMax` è¿™ç§æƒ…å†µä¸‹çš„ Len æ•°ç»„è®¡ç®—ã€‚

>1. Len[i] == Len[2 * middlePoint - i]
2. Len[i]ï¼ˆæœ‰æ•ˆï¼‰== min(rightMax - i, Len[2 * middlePoint - i])
3. åŒ¹é…å‰æˆ–è€…åŒ¹é…åï¼Œå‡ºç° Len[i] > rightMaxï¼Œéœ€è¦æ›´æ–° _middlePoint_ å’Œ _rightMax_

#### ç¬¬äºŒç§æƒ…å†µï¼ši > rightMax

è¿™ç§æƒ…å†µä¸‹ï¼Œi å¹¶ä¸åœ¨ _middlePoint_ çš„å›æ–‡ä¸²èŒƒå›´å†…ï¼Œä¹Ÿå°±æ— æ³•çœç•¥éƒ¨åˆ†çš„åŒ¹é…æ­¥éª¤ï¼Œåªèƒ½é‡æ–°åŒ¹é…ã€‚åŒ¹é…å®Œæ¯•ä¹‹åï¼ŒåŒæ ·éœ€è¦æ›´æ–° _middlePoint_ å’Œ _rightMax_ã€‚

![](http://ww4.sinaimg.cn/large/801b780agw1f7nn4w17h2j20j805t0su.jpg)

ä¸‹é¢æ˜¯å®Œæ•´çš„ Swift å®ç°ä»£ç ï¼š

```
   //Manacher's Algorithm (é©¬æ‹‰è½¦ç®—æ³•)
    class func longestPalindrome_ma(s: String) -> String {
        var charactersArr = Array<Character>()
        var resultString = String()
        var maxPoint = 0
        
        charactersArr.append("$")
        for character in s.characters {
            charactersArr.append("#")
            charactersArr.append(character)
        }
        charactersArr.append("#")
        charactersArr.append("%")
        
        var rightMax = 0, middlePoint = 0
        var lenArr = Array.init(repeating: 1, count: charactersArr.count)
        
        for i in 1 ..< 2 * s.characters.count + 2 {
            if rightMax > i {
                lenArr[i] = min(rightMax - i, lenArr[2 * middlePoint - i])
            }
            
            while charactersArr[i - lenArr[i]] == charactersArr[i + lenArr[i]] {
                lenArr[i] += 1
            }
           
            if lenArr[i] + i > rightMax {
                middlePoint = i
                
                rightMax = lenArr[i] + i
            }
            
            if lenArr[i] > lenArr[maxPoint] {
                maxPoint = i
            }
        }
        
        for i in stride(from: maxPoint - (lenArr[maxPoint] - 2), to: maxPoint + (lenArr[maxPoint] - 1), by: 2) {
            resultString.append(charactersArr[i])
        }
        
        return resultString
    }
}
```

> ä¸‹ä¸€ç¯‡æ–‡ç« æ˜¯ KMP ç®—æ³•ï¼Œå¦‚æœæ„Ÿå…´è¶£ï¼Œè¯·ç‚¹å‡» star æ”¯æŒã€‚[å¦æ¬¢è¿åŠ å…¥æˆ‘ï¼Œä¸€èµ·ç©æ‰å¼€å¿ƒ](https://github.com/SwiftClub/SwiftAlgorithms)ã€‚